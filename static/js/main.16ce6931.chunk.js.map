{"version":3,"sources":["fbInstance.js","routes/Auth.jsx","components/YweetFactory.js","components/Yweet.js","components/YweetList.js","routes/Home.jsx","routes/Profile.jsx","components/Navigation.js","components/Router.js","components/App.js","index.js"],"names":["firebase","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","authService","auth","dbService","firestore","storageService","storage","Auth","useState","email","setEmail","password","setPassword","newAccount","setNewAccount","loginError","setLoginError","onChange","event","target","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","getAuth","catch","error","message","signInWithEmailAndPassword","onSocialLogin","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","className","icon","faTwitter","style","color","type","placeholder","required","onClick","prev","faGoogle","faGithub","Date","getFullYear","YweetFactory","userObj","yweet","setYweet","attachment","setAttachment","image","useRef","attachmentUrl","attachmentRef","ref","getStorage","uid","uuidv4","uploadString","response","getDownloadURL","yweetObj","text","createdAt","now","creator","displayName","photoURL","like","addDoc","collection","getFirestore","onClearAttachment","onFileChange","theFile","files","fileReader","FileReader","onloadend","finishedEvent","result","readAsDataURL","console","log","current","src","maxLength","accept","display","alt","faMinusCircle","click","faCameraRetro","Yweet","isOwner","editMode","setEditMode","newYweet","setNewYweet","isLiked","setIsLiked","likeObj","setLikeObj","onDeleteClick","window","confirm","deleteDoc","doc","id","deleteObject","toggleEdit","onLikeClick","yweetDoc","likeDoc","updateDoc","yweetId","likedAt","then","useEffect","query","where","getDocs","docs","length","checkIsLiked","fontWeight","fontSize","toLocaleTimeString","faTrashAlt","faEdit","faThumbsUpSolid","faThumbsUp","YweetList","yweets","map","data","Home","setYweets","yweetRef","orderBy","onSnapshot","Profile","refreshUser","history","useHistory","myYweets","setMyYweets","inputDisplayName","setInputDisplayName","onLogOutClick","signOut","push","getMyYweets","faArrowLeft","updateProfile","faSave","faSignOutAlt","Navigation","to","faHouseUser","faUsers","AppRouter","isLoggedIn","exact","path","App","init","setInit","setUserObj","onAuthStateChanged","user","currentUser","Object","assign","Boolean","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.16ce6931.chunk.js","sourcesContent":["import * as firebase from \"firebase/app\";\nimport * as auth from \"firebase/auth\";\nimport * as firestore from \"firebase/firestore\";\nimport * as storage from \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDjsY4CxSNlT7by_bS-fF4862Ehbq5fqBo\",\n  authDomain: \"yweeter-ae7ef.firebaseapp.com\",\n  projectId: \"yweeter-ae7ef\",\n  storageBucket: \"yweeter-ae7ef.appspot.com\",\n  messagingSenderId: \"89780038175\",\n  appId: \"1:89780038175:web:5eb38006978b5b050d832a\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const authService = auth;\nexport const dbService = firestore;\nexport const storageService = storage;\n","import React, { useState } from \"react\";\nimport { authService } from \"fbInstance\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faGithub,\n  faGoogle,\n  faTwitter,\n} from \"@fortawesome/free-brands-svg-icons\";\n\nconst Auth = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [newAccount, setNewAccount] = useState(false);\n  const [loginError, setLoginError] = useState(\"\");\n\n  const onChange = (event) => {\n    const {\n      target: { name, value },\n    } = event;\n\n    if (name === \"email\") setEmail(value);\n\n    if (name === \"password\") setPassword(value);\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    if (newAccount) {\n      await authService\n        .createUserWithEmailAndPassword(authService.getAuth(), email, password)\n        .catch((error) => {\n          setLoginError(error.message);\n        });\n    } else {\n      await authService\n        .signInWithEmailAndPassword(authService.getAuth(), email, password)\n        .catch((error) => {\n          setLoginError(error.message);\n        });\n    }\n  };\n\n  const toggleAccount = () => {\n    setNewAccount((prev) => !prev);\n    setLoginError(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  const onSocialLogin = async (event) => {\n    const {\n      target: { name },\n    } = event;\n\n    let provider;\n    if (name === \"google\") {\n      provider = new authService.GoogleAuthProvider();\n    } else if (name === \"github\") {\n      provider = new authService.GithubAuthProvider();\n    }\n    await authService.signInWithPopup(authService.getAuth(), provider);\n  };\n\n  return (\n    <>\n      <div className=\"auth-wrapper\">\n        <div className=\"auth-container-left\">\n          <FontAwesomeIcon icon={faTwitter} className=\"twitter-icon\" />\n        </div>\n        <div className=\"auth-container-right\">\n          <div className=\"auth-container-right-element\">\n            <div className=\"auth-title\">\n              Let's get in Ywitter{\" \"}\n              <FontAwesomeIcon\n                icon={faTwitter}\n                className=\"title-twitter-icon\"\n                style={{ color: \"RGB(45, 155, 240)\" }}\n              />\n            </div>\n            <div className=\"auth-login-form\">\n              <form onSubmit={onSubmit}>\n                <input\n                  className=\"auth-email-input\"\n                  name=\"email\"\n                  type=\"email\"\n                  placeholder=\"email\"\n                  required\n                  value={email}\n                  onChange={onChange}\n                ></input>\n                <input\n                  className=\"auth-password-input submit\"\n                  name=\"password\"\n                  type=\"password\"\n                  placeholder=\"password\"\n                  required\n                  value={password}\n                  onChange={onChange}\n                ></input>\n                <br />\n                <input\n                  className=\"auth-submit\"\n                  type=\"submit\"\n                  value={newAccount ? \"Create Account\" : \"Sign in\"}\n                  required\n                ></input>\n                <br />\n\n                {loginError}\n                <div className=\"auth-toggle\" onClick={toggleAccount}>\n                  {newAccount ? \"Sign in\" : \"Create Account\"}\n                </div>\n                <br />\n              </form>\n            </div>\n            <div className=\"auth-login-social\">\n              <button\n                className=\"social-login-google\"\n                onClick={onSocialLogin}\n                name=\"google\"\n              >\n                <FontAwesomeIcon icon={faGoogle} /> continue with Google\n              </button>\n              <button\n                className=\"social-login-google\"\n                onClick={onSocialLogin}\n                name=\"github\"\n              >\n                <FontAwesomeIcon icon={faGithub} /> continue with Github\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"auth-footer\">\n          Nomad's course (Twitter clone coding) || Lyekwang &copy;{\" \"}\n          {new Date().getFullYear()}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Auth;\n","import {\n  faCameraRetro,\n  faMinusCircle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { dbService, storageService } from \"fbInstance\";\nimport React, { useRef, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst YweetFactory = ({ userObj }) => {\n  const [yweet, setYweet] = useState(\"\");\n  const [attachment, setAttachment] = useState(null);\n  const image = useRef(null);\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    let attachmentUrl = \"\";\n    if (attachment !== null) {\n      const attachmentRef = storageService.ref(\n        storageService.getStorage(),\n        `${userObj.uid}/${uuidv4()}`\n      );\n      const response = await storageService.uploadString(\n        attachmentRef,\n        attachment,\n        \"data_url\"\n      );\n      attachmentUrl = await storageService.getDownloadURL(response.ref);\n    }\n    const yweetObj = {\n      text: yweet,\n      createdAt: Date.now(),\n      creator: {\n        uid: userObj.uid,\n        displayName: userObj.displayName,\n        photoURL: userObj.photoURL || \"\",\n      },\n      like: 0,\n      attachmentUrl,\n    };\n    dbService.addDoc(\n      dbService.collection(dbService.getFirestore(), \"yweet\"),\n      yweetObj\n    );\n    setYweet(\"\");\n    onClearAttachment();\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setYweet(value);\n  };\n\n  const onFileChange = (event) => {\n    if (!event) {\n      console.log((image.current.value = \"\"));\n    } else {\n      const {\n        target: { files },\n      } = event;\n      const theFile = files[0];\n      const fileReader = new FileReader();\n      fileReader.onloadend = (finishedEvent) => {\n        const {\n          target: { result },\n        } = finishedEvent;\n        setAttachment(result);\n      };\n      fileReader.readAsDataURL(theFile);\n    }\n  };\n\n  const onClearAttachment = () => {\n    setAttachment(null);\n    onFileChange(null);\n  };\n\n  const onImageButtonClick = (event) => {\n    image.current.click();\n  };\n  return (\n    <div className=\"factory-wrapper\">\n      <div className=\"factory-title\">Home</div>\n      <form className=\"factory-form\" onSubmit={onSubmit}>\n        <div className=\"factory-form-top\">\n          <img\n            className=\"user-img\"\n            src={\n              userObj.photoURL ? userObj.photoURL : \"http://placehold.it/50x50\"\n            }\n          />\n          <textarea\n            placeholder=\"what's happening?\"\n            className=\"factory-input-text\"\n            value={yweet}\n            onChange={onChange}\n            type=\"text\"\n            maxLength={500}\n          />\n        </div>\n        <div className=\"factory-form-bottom\">\n          <input\n            className=\"factory-input-file\"\n            ref={image}\n            type=\"file\"\n            accept=\"image/*\"\n            onChange={onFileChange}\n            display=\"none\"\n          ></input>\n          {attachment && (\n            <>\n              <img className=\"attachment-img\" src={attachment} alt=\"\" />\n              <button\n                className=\"factory-input-button\"\n                onClick={onClearAttachment}\n              >\n                <FontAwesomeIcon icon={faMinusCircle} />\n              </button>\n            </>\n          )}\n          <input className=\"factory-input-submit\" type=\"submit\" value=\"Yweet\" />\n          <button\n            type=\"button\"\n            className=\"factory-button-image\"\n            onClick={onImageButtonClick}\n          >\n            <FontAwesomeIcon\n              style={{ color: \"rgb(45, 155, 240)\" }}\n              icon={faCameraRetro}\n            />\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default YweetFactory;\n","import React, { useEffect, useState } from \"react\";\nimport { dbService, storageService } from \"fbInstance\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faEdit,\n  faTrashAlt,\n  faThumbsUp,\n} from \"@fortawesome/free-regular-svg-icons\";\nimport { faThumbsUp as faThumbsUpSolid } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Yweet = ({ yweetObj, isOwner, userObj }) => {\n  const [editMode, setEditMode] = useState(false);\n  const [newYweet, setNewYweet] = useState(yweetObj.text);\n  const [isLiked, setIsLiked] = useState(false);\n  const [likeObj, setLikeObj] = useState();\n\n  const onDeleteClick = async () => {\n    const ok = window.confirm(\"are you sure?\");\n    if (ok) {\n      dbService.deleteDoc(\n        dbService.doc(dbService.getFirestore(), \"yweet\", yweetObj.id)\n      );\n      const response = storageService.ref(\n        storageService.getStorage(),\n        yweetObj.attachmentUrl\n      );\n      const result = await storageService.deleteObject(response);\n    }\n  };\n\n  const onEditClick = () => {};\n\n  const toggleEdit = () => setEditMode((prev) => !prev);\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewYweet(value);\n  };\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    dbService.updateDoc(\n      dbService.doc(dbService.getFirestore(), \"yweet\", yweetObj.id),\n      { text: newYweet }\n    );\n    dbService.toggleEdit();\n  };\n\n  const onLikeClick = () => {\n    const yweetDoc = dbService.doc(\n      dbService.getFirestore(),\n      \"yweet\",\n      yweetObj.id\n    );\n    if (!isLiked) {\n      setIsLiked(true);\n      dbService\n        .addDoc(dbService.collection(dbService.getFirestore(), \"like\"), {\n          uid: userObj.uid,\n          yweetId: yweetObj.id,\n          likedAt: Date.now(),\n        })\n        .then((result) => {\n          setLikeObj({\n            id: result.id,\n            uid: userObj.uid,\n            yweetId: yweetObj.id,\n          });\n          dbService.updateDoc(yweetDoc, { like: yweetObj.like + 1 });\n        });\n    } else {\n      const likeDoc = dbService.doc(\n        dbService.getFirestore(),\n        \"like\",\n        likeObj.id\n      );\n      setIsLiked(false);\n      dbService.deleteDoc(likeDoc);\n      dbService.updateDoc(yweetDoc, { like: yweetObj.like - 1 });\n    }\n  };\n\n  const checkIsLiked = () => {\n    const collection = dbService.collection(dbService.getFirestore(), \"like\");\n    const query = dbService.query(\n      collection,\n      dbService.where(\"uid\", \"==\", userObj.uid),\n      dbService.where(\"yweetId\", \"==\", yweetObj.id)\n    );\n\n    dbService.getDocs(query).then((result) => {\n      console.log(result.docs.length);\n      if (result.docs.length > 0) {\n        setIsLiked(true);\n        setLikeObj({ id: result.docs[0].id, ...result.docs[0] });\n      }\n    });\n  };\n\n  useEffect(() => {\n    checkIsLiked();\n  }, []);\n\n  return (\n    <div>\n      {editMode ? (\n        isOwner && (\n          <>\n            <form onSubmit={onSubmit}>\n              <input\n                onChange={onChange}\n                type=\"text\"\n                value={newYweet}\n                required\n              ></input>\n              <input type=\"submit\" value=\"edit\" onClick={onEditClick}></input>\n            </form>\n            <button onClick={toggleEdit}>Cancel</button>\n          </>\n        )\n      ) : (\n        <div className=\"yweet-wrapper\">\n          <img\n            src={yweetObj.creator.photoURL}\n            className=\"yweet-profile-img\"\n            alt=\"http://placehold.it/50x50\"\n          />\n          <div className=\"yweet-title\">\n            {yweetObj.creator.displayName}{\" \"}\n            <span\n              style={{ color: \"gray\", fontWeight: \"400\", fontSize: \"12px\" }}\n            >\n              {new Date(yweetObj.createdAt).toLocaleTimeString()}\n            </span>\n          </div>\n          {isOwner && (\n            <>\n              <button className=\"yweet-button-delete\" onClick={onDeleteClick}>\n                <FontAwesomeIcon\n                  style={{ fontSize: \"18px\" }}\n                  icon={faTrashAlt}\n                />\n              </button>\n              <button className=\"yweet-button-edit\" onClick={toggleEdit}>\n                <FontAwesomeIcon icon={faEdit} style={{ fontSize: \"18px\" }} />\n              </button>\n            </>\n          )}\n          <div className=\"yweet-text\">{yweetObj.text}</div>\n          {yweetObj.attachmentUrl && (\n            <img\n              className=\"yweet-attachment\"\n              src={yweetObj.attachmentUrl}\n              alt=\"\"\n            ></img>\n          )}\n          <div className=\"yweet-bottom-bar\">\n            <div className=\"yweet-like\">\n              {isLiked ? (\n                <>\n                  <FontAwesomeIcon\n                    onClick={onLikeClick}\n                    className=\"yweet-like-button-filled\"\n                    icon={faThumbsUpSolid}\n                  ></FontAwesomeIcon>\n                  <span style={{ fontSize: \"9px\" }}> {yweetObj.like}</span>\n                </>\n              ) : (\n                <>\n                  <FontAwesomeIcon\n                    onClick={onLikeClick}\n                    className=\"yweet-like-button\"\n                    icon={faThumbsUp}\n                  ></FontAwesomeIcon>\n                  <span style={{ fontSize: \"9px\" }}> {yweetObj.like}</span>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Yweet;\n","import React from \"react\";\nimport Yweet from \"./Yweet\";\n\nconst YweetList = ({ yweets, userObj }) => {\n  return (\n    <div className=\"yweet-list\">\n      {yweets.map((data) => {\n        return (\n          <Yweet\n            key={data.id}\n            yweetObj={data}\n            isOwner={data.creator.uid === userObj.uid}\n            userObj={userObj}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default YweetList;\n","import YweetFactory from \"components/YweetFactory\";\nimport YweetList from \"components/YweetList\";\nimport { dbService } from \"fbInstance\";\nimport React, { useEffect, useState } from \"react\";\n\nconst Home = ({ userObj }) => {\n  const [yweets, setYweets] = useState([]);\n\n  useEffect(() => {\n    const yweetRef = dbService.collection(dbService.getFirestore(), \"yweet\");\n    const query = dbService.query(\n      yweetRef,\n      dbService.orderBy(\"createdAt\", \"desc\")\n    );\n    dbService.onSnapshot(\n      query,\n      (result) => {\n        const yweets = result.docs.map((doc) => {\n          return {\n            id: doc.id,\n            ...doc.data(),\n          };\n        });\n        setYweets(yweets);\n      }\n      // dbService.getDocs(query).then((result) => {\n      //   const yweets = result.docs.map((doc) => {\n      //     return {\n      //       id: doc.id,\n      //       ...doc.data(),\n      //     };\n      //   });\n      //   setYweets(yweets);\n      // })\n    );\n  }, []);\n\n  return (\n    <>\n      <div className=\"align-center\">\n        <YweetFactory userObj={userObj} />\n        <YweetList yweets={yweets} userObj={userObj} />\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","import React, { useEffect, useState } from \"react\";\nimport { authService, dbService } from \"fbInstance\";\nimport { useHistory } from \"react-router\";\nimport YweetList from \"components/YweetList\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faArrowLeft,\n  faBackspace,\n  faLongArrowAltLeft,\n  faSignOutAlt,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { faSave } from \"@fortawesome/free-regular-svg-icons\";\n\nconst Profile = ({ userObj, refreshUser }) => {\n  const history = useHistory();\n  const [myYweets, setMyYweets] = useState([]);\n  const [inputDisplayName, setInputDisplayName] = useState(userObj.displayName);\n\n  const onLogOutClick = async () => {\n    await authService.getAuth().signOut();\n    history.push(\"/\");\n  };\n\n  const getMyYweets = () => {\n    // dbService.onSnapshot(\n    const yweetRef = dbService.collection(dbService.getFirestore(), \"yweet\");\n    const query = dbService.query(\n      yweetRef,\n      dbService.where(\"creator.uid\", \"==\", userObj.uid),\n      dbService.orderBy(\"createdAt\", \"desc\")\n    );\n\n    dbService.getDocs(query).then((result) => {\n      const yweets = result.docs.map((doc) => {\n        return {\n          id: doc.id,\n          ...doc.data(),\n        };\n      });\n      setMyYweets(yweets);\n    });\n  };\n\n  const onSubmitHandler = (event) => {\n    event.preventDefault();\n    authService\n      .updateProfile(userObj, {\n        displayName: event.target.inputDisplayName.value,\n      })\n      .then((result) => {\n        refreshUser();\n      });\n  };\n\n  const onChangeHandler = (event) => {\n    const {\n      target: { value },\n    } = event;\n\n    setInputDisplayName(value);\n  };\n\n  useEffect(() => {\n    getMyYweets();\n  }, []);\n\n  return (\n    <div className=\"profile-wrapper align-center\">\n      <div className=\"profile-header\">\n        <button className=\"backward-button\">\n          <FontAwesomeIcon icon={faArrowLeft} />\n        </button>\n        <div className=\"profile-header-title\">\n          <div className=\"profile-header-username\">{userObj.displayName}</div>\n          <div className=\"profile-header-yweet\">{myYweets.length} yweet</div>\n        </div>\n      </div>\n      <div className=\"profile-background\"></div>\n      <div className=\"profile-userInfo\">\n        <img className=\"profile-user-img\" src={userObj.photoURL} />\n        <form className=\"profile-edit-form\" onSubmit={onSubmitHandler}>\n          <label className=\"profile-edit-form-label\">name</label>\n          <input\n            className=\"profile-edit-form-text\"\n            name=\"inputDisplayName\"\n            type=\"text\"\n            onChange={onChangeHandler}\n            value={inputDisplayName}\n          />\n          <button className=\"profile-edit-form-submit\" type=\"submit\">\n            <FontAwesomeIcon icon={faSave} />\n          </button>\n          <button\n            className=\"profile-edit-form-logout\"\n            type=\"button\"\n            onClick={onLogOutClick}\n          >\n            <FontAwesomeIcon icon={faSignOutAlt} />\n          </button>\n        </form>\n      </div>\n      <YweetList yweets={myYweets} userObj={userObj} />\n    </div>\n  );\n};\n\nexport default Profile;\n","import { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport {\n  faHome,\n  faHouseUser,\n  faUser,\n  faUsers,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Navigation = ({ userObj }) => (\n  <nav className=\"nav align-left\">\n    <ul className=\"nav-list\">\n      <li className=\"nav-top\">\n        <FontAwesomeIcon icon={faTwitter} />\n      </li>\n      <Link to=\"/\">\n        <li className=\"nav-list-element\">\n          <div className=\"nav-element-title nav-link\">\n            <FontAwesomeIcon icon={faHouseUser} /> Home\n          </div>\n        </li>\n      </Link>\n      <Link to=\"/profile\">\n        <li className=\"nav-list-element\">\n          <div className=\"nav-element-title nav-link\">\n            <FontAwesomeIcon icon={faUsers} /> My Profile\n          </div>\n        </li>\n      </Link>\n    </ul>\n  </nav>\n);\n\nexport default Navigation;\n","import React, { Fragment } from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Auth from \"routes/Auth\";\nimport Home from \"routes/Home\";\nimport Profile from \"routes/Profile\";\nimport Navigation from \"components/Navigation\";\n\nconst AppRouter = ({ isLoggedIn, userObj, refreshUser }) => {\n  //   const [isLoggedIn, setIsLoggedIn] = useState(false);\n  //   라우트 기능만 하는것이 적합, 스테이트 관리는 상위 컴포넌트로 빼준다.\n  return (\n    <Router>\n      <Switch>\n        {isLoggedIn ? (\n          <div className=\"home-wrapper\">\n            <Navigation userObj={userObj} />\n            <Fragment>\n              <Route exact path=\"/\">\n                <Home userObj={userObj} />\n              </Route>\n              <Route exact path=\"/profile\">\n                <Profile refreshUser={refreshUser} userObj={userObj} />\n              </Route>\n            </Fragment>\n            <div className=\"align-right\">Pull-Right content</div>\n          </div>\n        ) : (\n          <Route exact path=\"/\">\n            <Auth />\n          </Route>\n        )}\n      </Switch>\n    </Router>\n  );\n};\n\nexport default AppRouter;\n","import { useEffect, useState } from \"react\";\nimport AppRouter from \"./Router\";\nimport { authService } from \"fbInstance\";\n\nimport \"css/common.css\";\nimport \"css/home.css\";\nimport \"css/navigation.css\";\nimport \"css/auth.css\";\nimport \"css/yweetFactory.css\";\nimport \"css/yweet.css\";\nimport \"css/right.css\";\nimport \"css/profile.css\";\n\nconst App = () => {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n\n  useEffect(() => {\n    authService.onAuthStateChanged(authService.getAuth(), (user) => {\n      if (user) setUserObj(user);\n      else setUserObj(null);\n      setInit(true);\n    });\n  }, []);\n\n  const refreshUser = () => {\n    const user = authService.getAuth().currentUser;\n    setUserObj(Object.assign({}, user)); //이렇게 복제된 객체는 updateProfile에 넘길 때 오류발생.. 다시 user 원본으로 업데이트 시켜주는 작업 뒤에 진행\n    setUserObj(user);\n  };\n\n  return (\n    <>\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n        />\n      ) : (\n        \"initializing\"\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}